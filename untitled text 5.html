<p>Input:<br><textarea id="input" rows="10" cols="80"></textarea>
<p><button onclick="process()">Process</button>
<p>Output:<br><textarea id="output" rows="10" cols="80"></textarea>

<script>

function process() {
  x = document.getElementById("input").value
  y = x.toLowerCase()
  z = y.replace(/(\w[.?!])(\s|$)/gi, "$1\n")
  lines = z.split("\n")
  //for (i = 0; i < lines.length; i++) {
    //i++
  //}
  
  document.getElementById("output").value = lines.length-1
}

</script>